<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            const choiceArray = ["rock", "paper", "scissors"];
            var min = 0;
            var max = choiceArray.length - 1;
            var computerChoice = computerPlay();
            var playerInput = "";
            var playerChoice = inputLowercase();
            var youLost = "Computer's " + computerChoice + " beats your " + playerChoice + "! You lost this round!";
            var youWin = "Your " + playerChoice + " beats computer's " + computerChoice + "! You Win this round!";
            var tie = "Tie!"
            const inputError = "Seems if you entered something else than 'Rock', 'Paper', or 'Scissors' :("
            var roundResult = playRound();
            var playerPoints = 0;
            var computerPoints = 0;
            var endText = ""

            function getRandom() 
            {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1)) + min; 
            }
            
            function computerPlay()
            {
                return choiceArray[getRandom()];
            }
            
            function inputLowercase()
            {
                return playerInput.toLowerCase();

            }
            
            function playRound()
            {
                computerPlay();
                if (computerChoice == playerChoice)
                {
                   /*playerInput = prompt("Tie! Choose again! Type 'Rock', 'Paper' or 'Scissors'")
                    */
                    return tie;
                }
                else if (computerChoice == "scissors" && playerChoice == "paper")
                {
                    return youLost;
                }
                else if (computerChoice == "scissors" && playerChoice == "rock")
                {
                    return youWin;
                }
                else if (computerChoice == "paper" && playerChoice == "rock")
                {
                    return youLost;
                }
                else if (computerChoice == "paper" && playerChoice == "scissors")
                {
                    return youWin;
                }
                else if (computerChoice == "rock" && playerChoice == "scissors")
                {
                    return youLost;
                }
                else if (computerChoice == "rock" && playerChoice == "paper")
                {
                    return youWin;
                }
                else (playerChoice != "rock" && playerChoice != "paper" && playerChoice != "scissors") 
                {
                    return inputError;
                }
            }
            
            function game()
            {
                
                var i;
                for (i = 0; i < 4; i++)
                {
                    playRound();
                    if (roundResult == youWin)
                    {
                        playerPoints++;
                        return roundResult;
                    }
                    else if (roundResult == youLost)
                    {
                        computerPoints++;
                        return roundResult;
                    }
                    else (roundResult = tie)
                    {
                        return roundResult;
                    }
                }
            }
            game();
            console.log(game());
        </script>
    </body>
</html>