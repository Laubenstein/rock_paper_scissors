<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <h1>Play Rock Paper Scissors against the Computer!</h1>
    <h2>Choose wisely!</h2>
    <div class="rpcButtons">
      <button id="rock" >Rock</button>
      <button id="paper" >Paper</button>
      <button id="scissors" >Scissors</button>
    </div>
    <div id="result">
      
    </div>


    <script>
      let playerScore = 0;
      let computerScore = 0;
      let computerSelection;
      let playerSelection;
      
      
      
      const resultContainer = document.querySelector("#result");
      const result = document.createElement("p");
      result.classList.add("result");
      resultContainer.appendChild(result);
      
      const buttons = document.querySelectorAll('button');
      const rockButton = document.getElementById("rock");
      const paperButton = document.getElementById("paper");
      const scissorsButton = document.getElementById("scissors");
      
      
      //Start Game on Button click
      
        rockButton.addEventListener("click", (e) => {
          if (playerScore < 5 && computerScore < 5) {
          result.innerText = game("rock", computerPlay());
          } else {
            result.innerText = "End of Game! Your Score: " + playerScore + "; Computer's Score: " + computerScore;
          }
        });
        paperButton.addEventListener("click", (e) => {
          if (playerScore < 5 && computerScore < 5) {
          result.innerText = game("paper", computerPlay());
          } else {
            result.innerText = "End of Game! Your Score: " + playerScore + "; Computer's Score: " + computerScore;
          }
        })
        scissorsButton.addEventListener("click", (e) => {
          if (playerScore < 5 && computerScore < 5) {
          result.innerText = game("scissors", computerPlay());
          } else {
            result.innerText = "End of Game! Your Score: " + playerScore + "; Computer's Score: " + computerScore;
          }
        })
     
      
      
      
      function playRound(playerSelection, computerSelection) {
        if (computerSelection == playerSelection) {
          return "Tie!";
        }
        //You Lose!
        else if ((computerSelection == "scissors" && playerSelection == "paper") || (computerSelection == "paper" && playerSelection == "rock") 
                  || (computerSelection == "rock" && playerSelection == "scissors")) {
          computerScore++;
          return "Computer's " + computerSelection + " beats your " + playerSelection + "! You lost this round!"  
          + " Your Score: " + playerScore + " , Computer's Score: " + computerScore;
        }
        //You win!
        else if ((computerSelection == "scissors" && playerSelection == "rock") || (computerSelection == "paper" && playerSelection == "scissors")
                  || (computerSelection == "rock" && playerSelection == "paper")) {
          playerScore++;
          return "Your " + playerSelection + " beats computer's " + computerSelection + "! You Win this round!" 
          + " Your Score: " + playerScore + " , Computer's Score: " + computerScore;
        }
        //Input error
        else if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
          return "Input error! Enter 'Rock', 'Paper', or 'Scissors'!";
        }   
      }  
      
      function computerPlay() {
        const array = ["rock", "paper", "scissors"];
        let max = Math.floor(array.length - 1);
        return array[Math.floor(Math.random() * (max + 1))]; 
      }

      function game(playerSelection, computerSelection) {
        return playRound(playerSelection, computerSelection);
        
        
      }

      function oldGame(playerSelection, computerSelection) {
        for (let i = 0; i < 5; i++) {   
          playerSelection = getPlayerSelection();
          computerSelection = computerPlay();
          playRound(playerSelection, computerSelection);
        }
        return (playerScore == 1 ? "End of game! You have " + playerScore + " point!" : "End of game! You have " + playerScore + " points!")    
      }
      
    </script>
  </body>
</html>
