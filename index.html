<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <h1>Play Rock Paper Scissors against the Computer!</h1>
    <h2>Choose wisely!</h2>
    <div class="rpcButtons">
      <button id="rock" >Rock</button>
      <button id="paper" >Paper</button>
      <button id="scissors" >Scissors</button>
    </div>
    <div id="result">
      
    </div>


    <script>
      let playerScore = 0;
      let computerScore = 0;
      var computerSelection;
      var playerSelection;
      
      const resultContainer = document.querySelector("#result");
      const result = document.createElement("p");
      result.classList.add("result");
      resultContainer.appendChild(result);
      const buttons = document.querySelectorAll('button');

      buttons.forEach((button) => { 
      button.addEventListener('click', (e) => { 
	      let choice = button.textContent.toLowerCase();
	      result.innerHTML = playRound(choice, computerPlay());
        
        
        });
      });
      
      
      function playRound(playerSelection, computerSelection) {
        if (computerSelection == playerSelection) {
          return "Tie!";
        }
        //You Lost!
        else if ((computerSelection == "scissors" && playerSelection == "paper") || (computerSelection == "paper" && playerSelection == "rock") 
                  || (computerSelection == "rock" && playerSelection == "scissors")) {
          return "Computer's " + computerSelection + " beats your " + playerSelection + "! You lost this round!";
        }
        //You win!
        else if ((computerSelection == "scissors" && playerSelection == "rock") || (computerSelection == "paper" && playerSelection == "scissors")
                  || (computerSelection == "rock" && playerSelection == "paper")) {
          playerScore++;
          return "Your " + playerSelection + " beats computer's " + computerSelection + "! You Win this round!";
        }
        //Input error
        else if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
          return "Input error! Enter 'Rock', 'Paper', or 'Scissors'!";
        }   
      }  
      
      function computerPlay() {
        const array = ["rock", "paper", "scissors"];
        let max = Math.floor(array.length - 1);
        return array[Math.floor(Math.random() * (max + 1))]; 
      }
      
      function game(playerSelection, computerSelection) {
        for (let i = 0; i < 5; i++) {   
          playerSelection = getPlayerSelection();
          computerSelection = computerPlay();
          playRound(playerSelection, computerSelection);
        }
        return (playerScore == 1 ? "End of game! You have " + playerScore + " point!" : "End of game! You have " + playerScore + " points!")    
      }
      
    </script>
  </body>
</html>
